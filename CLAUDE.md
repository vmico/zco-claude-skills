# CLAUDE.md

This file provides guidance to Claude Code when working with this repository.

---

## Project Overview

**Project Name**: Claude Code Skills & Configuration System
**Repository**: `zco-claude-init`
**Purpose**: Centralized Claude Code configuration, custom skills library, and development planning system

This repository serves as the **configuration hub** for Claude Code across multiple projects according to user habits and project requirements.

---

## Repository Structure

```
zco-claude-init/
â”œâ”€â”€ .claude/                          # Active Claude configuration (symlinked)
â”‚   â”œâ”€â”€ hooks -> ../../_.ai-claude/.claude/hooks
â”‚   â”œâ”€â”€ rules -> ../../_.ai-claude/.claude/rules
â”‚   â”œâ”€â”€ skills -> ../../_.ai-claude/.claude/skills
â”‚   â””â”€â”€ settings.local.json           # Personal local settings
â”‚
â”œâ”€â”€ ClaudeSettings/                   # Master configuration templates
â”‚   â”œâ”€â”€ skills/                       # Custom Claude skills (zco-* prefix)
â”‚   â”‚   â”œâ”€â”€ zco-plan/                # Execute development plans
â”‚   â”‚   â”œâ”€â”€ zco-plan-new/            # Create new development plans
â”‚   â”‚   â”œâ”€â”€ zco-docs-update/         # Update CLAUDE.md metadata
â”‚   â”‚   â””â”€â”€ zco-help/                # Display available Claude tools
â”‚   â”œâ”€â”€ rules/                        # Coding standards and conventions
â”‚   â”œâ”€â”€ hooks/                        # Git hooks and automation
â”‚   â”œâ”€â”€ commands/                     # Custom commands
â”‚   â”œâ”€â”€ settings.json                 # Team-shared settings
â”‚   â””â”€â”€ README.md                     # Configuration guide
â”‚
â”œâ”€â”€ docs/plans/                       # Structured development plans
â”‚   â”œâ”€â”€ README.md                     # Plan management guide (630+ lines)
â”‚   â”œâ”€â”€ plan.template.md              # Full plan template
â”‚   â”œâ”€â”€ plan.template.minimal.md      # Minimal plan template
â”‚   â””â”€â”€ plan.{seq}.{date}.md          # Individual plan documents
â”‚
â”œâ”€â”€ _.claude-settings/                # Backup/alternative settings
â”œâ”€â”€ _.claude_hist/                    # Conversation history archive
â”‚
â”œâ”€â”€ zco_claude_init.py                # Project linking script (Python 3)
â”œâ”€â”€ setup.sh                          # Setup automation (Shell)
â”œâ”€â”€ .claudeignore                     # Files excluded from Claude
â”œâ”€â”€ CLAUDE.md                         # This file
â””â”€â”€ README.md                         # Project documentation
```

---

## Core Features

### 1. Custom Skills System (zco-\* Prefix)

All custom skills use the **zco-** prefix (Zhicheng Custom Operations) to distinguish them from built-in skills.

#### Available Skills

| Skill               | Command              | Purpose                                              | Documentation                                              |
| ------------------- | -------------------- | ---------------------------------------------------- | ---------------------------------------------------------- |
| **zco-plan**        | `zco-plan {seq}`     | Execute structured development plans                 | [SKILL.md](ClaudeSettings/skills/zco-plan/SKILL.md)        |
| **zco-plan-new**    | `zco-plan-new`       | Create new development plan from template            | [SKILL.md](ClaudeSettings/skills/zco-plan-new/SKILL.md)    |
| **zco-docs-update** | `zco-docs-update`    | Update CLAUDE.md Git metadata (commit, branch, etc.) | [SKILL.md](ClaudeSettings/skills/zco-docs-update/SKILL.md) |
| **zco-help**        | `zco-help [filter]`  | Display available Claude tools with usage info       | [SKILL.md](ClaudeSettings/skills/zco-help/SKILL.md)        |

#### Usage Examples

```bash
# Execute development plan 001
zco-plan 001

# Create a new development plan
zco-plan-new

# Update documentation metadata
zco-docs-update

# Display all available tools
zco-help

# Display only skills
zco-help skills

# Display specific skill details
zco-help zco-plan
```

### 2. Development Plan Management

Structured task planning system located in `docs/plans/`:

#### Plan Document Format

```
plan.{seq}.{extra}.md
```

- **{seq}**: Sequence number (any number of digits: 1, 02, 003, 0100)
- **{extra}**: Optional suffix (typically date in YYMMDD format or description)

#### Plan Document Structure

Each plan document contains:

**YAML Front Matter**:

```yaml
---
seq: 001 # Plan sequence number
title: 'Task title' # Task title
author: '' # Author (auto-filled by zco-plan)
status: 'draft:0' # Status enum
priority: 'p2:ä¸­:å¯çº³å…¥åç»­è¿­ä»£è®¡åˆ’' # Priority enum
created_at: '' # Creation timestamp (auto-filled)
updated_at: '' # Update timestamp (auto-updated)
tags: [] # Tags (auto-generated by Claude)
---
```

**Status Values**:

- `draft:0` - Draft
- `ready:1` - Ready to execute
- `ongoing:2` - In progress (auto-set by zco-plan)
- `completed:3` - Completed (auto-set on completion)
- `failed:4` - Failed
- `canceled:5` - Canceled
- `archived:8` - Archived

**Priority Values**:

- `p0:ç´§æ€¥:é‡è¦` - Urgent and important
- `p1:é«˜:å½“å‰è¿­ä»£/æ’æœŸå†…é‡ç‚¹è§£å†³` - High priority (current iteration)
- `p2:ä¸­:å¯çº³å…¥åç»­è¿­ä»£è®¡åˆ’` - Medium priority (default)
- `p3:ä½:å¯è®°å½•ï¼Œå¾…åç»­è¯„ä¼°` - Low priority
- `p4:æ— :ä¸å½±å“å½“å‰è¿­ä»£/æ’æœŸ` - No priority

**Markdown Content** (Required sections):

- ğŸ¯ **Goal** - Core objective (1-2 sentences)
- ğŸ“‹ **Detailed Requirements** - Feature description, special requirements, I/O specs
- âœ… **Verification Standards** - Completion criteria checklist
- ğŸ§ª **Test Plan** - Unit tests, integration tests, manual tests
- ğŸ“š **Reference Information** - Related docs, existing implementations

#### Plan Workflow

```bash
# 1. Create new plan (copy template)
cp docs/plans/plan.template.md docs/plans/plan.002.$(date +%y%m%d).md

# 2. Edit plan document
vim docs/plans/plan.002.260108.md

# 3. Execute plan
zco-plan 002

# 4. Status auto-updates: draft:0 â†’ ongoing:2 â†’ completed:3
```

### 3. Project Linking System

The `zco_claude_init.py` script enables sharing Claude configuration across multiple projects:

**Features**:

- Symlink Claude settings to target projects
- Share skills across multiple repositories
- Track linked projects in `_.linked-projects.json`

**Usage**:

```bash
./zco_claude_init.py /path/to/target/project
```

**What Gets Linked**:

- `.claude/rules` â†’ Coding standards and conventions
- `.claude/hooks` â†’ Git hooks and automation
- `.claude/skills` â†’ Custom skills (zco-\*)

---

## Development Workflow

### Daily Workflow

1. **Check for plans**:

   ```bash
   ls docs/plans/
   ```

2. **Execute a plan**:

   ```bash
   zco-plan {seq}
   ```

3. **Create new plan** (if needed):

   ```bash
   zco-plan-new
   # Or manually:
   cp docs/plans/plan.template.md docs/plans/plan.003.$(date +%y%m%d).md
   ```

4. **Update documentation**:
   ```bash
   zco-docs-update
   ```

### Creating a New Skill

1. **Create skill directory**:

   ```bash
   mkdir -p ClaudeSettings/skills/zco-{your-skill-name}
   ```

2. **Create SKILL.md**:

   ```bash
   vim ClaudeSettings/skills/zco-{your-skill-name}/SKILL.md
   ```

3. **Define YAML front matter**:

   ```yaml
   ---
   name: zco-{your-skill-name}
   description: Brief description of the skill
   allowed-tools: Bash, Read, Glob, Write, Edit
   ---
   ```

4. **Test the skill**:
   ```bash
   zco-{your-skill-name}
   ```

### Linking to Other Projects

```bash
# Link configuration to another project
./zco_claude_init.py /path/to/another/project

# Skills and settings are now available in that project
cd /path/to/another/project
zco-plan 001  # Works immediately
```

---

## Key Documentation

### Primary Documentation

| Document                                                           | Description                            | Lines |
| ------------------------------------------------------------------ | -------------------------------------- | ----- |
| [README.md](README.md)                                             | Project overview and quick start guide | -     |
| [CLAUDE.md](CLAUDE.md)                                             | This file - Claude Code instructions   | -     |
| [docs/plans/README.md](docs/plans/README.md)                       | Comprehensive plan management guide    | 630+  |
| [ClaudeSettings/README.md](ClaudeSettings/README.md)               | Configuration system overview          | -     |
| [ClaudeSettings/skills/README.md](ClaudeSettings/skills/README.md) | Skills development guide               | 225+  |

### Skill Documentation

| Skill           | Documentation                                              | Description                            |
| --------------- | ---------------------------------------------------------- | -------------------------------------- |
| zco-plan        | [SKILL.md](ClaudeSettings/skills/zco-plan/SKILL.md)        | Execute development plans (400+ lines) |
| zco-plan-new    | [SKILL.md](ClaudeSettings/skills/zco-plan-new/SKILL.md)    | Create new plans                       |
| zco-docs-update | [SKILL.md](ClaudeSettings/skills/zco-docs-update/SKILL.md) | Update documentation metadata          |
| zco-help        | [SKILL.md](ClaudeSettings/skills/zco-help/SKILL.md)        | Display available tools and help info  |

### Template Documentation

| Template                                                        | Purpose                         |
| --------------------------------------------------------------- | ------------------------------- |
| [plan.template.md](docs/plans/plan.template.md)                 | Full plan template (250+ lines) |
| [plan.template.minimal.md](docs/plans/plan.template.minimal.md) | Minimal plan template           |

---

## Naming Conventions

### Skills

**Rule**: All custom skills **MUST** use the `zco-` prefix.

âœ… **Correct**:

- `zco-plan`
- `zco-docs-update`
- `zco-deploy`

âŒ **Incorrect**:

- `plan` (missing prefix)
- `my-skill` (wrong prefix)
- `utils` (not a skill)

### Plan Documents

**Format**: `plan.{seq}.{extra}.md`

âœ… **Correct**:

- `plan.001.20260108.md` (seq=001, date=20260108)
- `plan.002.ç”¨æˆ·é‰´æƒ.md` (seq=002, description)
- `plan.0100.issue946.md` (seq=0100, issue reference)
- `plan.1.md` (seq=1, no extra)

âŒ **Incorrect**:

- `plan-002-20260108.md` (uses `-` instead of `.`)
- `task.002.20260108.md` (wrong prefix)
- `002.plan.md` (wrong order)

---

## Important Rules and Guidelines

### Comment Convention (From Parent Project)

The golang/c/c++/java/nodejs/javascript project uses a unique comment system:

| Prefix                    | Purpose                  | Example                                  |
| ------------------------- | ------------------------ | ---------------------------------------- |
| `// `                     | Standard code comments   | `// CalculateTotal computes order total` |
| `//;`                     | Code logic explanation   | `//;Small orders don't get discounts`    |
| `//;{Author}@TODO:`       | Pending tasks            | `//;Claude@TODO: Add email validation`   |
| `//;{Author}@FIXME:`      | Bugs to fix              | `//;Claude@FIXME: Redis timeout issue`   |
| `//;{Author}@NOTE:`       | Developer notes          | `//;Claude@NOTE: Consider concurrency`   |
| `//;{Author}@HACK:`       | Temporary solutions      | `//;Claude@HACK: Remove after API v2`    |
| `//;{Author}@OPTIMIZE:`   | Performance improvements | `//;Claude@OPTIMIZE: Use batch query`    |
| `//;{Author}@DEPRECATED:` | Deprecated code          | `//;Claude@DEPRECATED: Use V2 instead`   |

The python/shell/bash project uses a unique comment system:

| Prefix                    | Purpose                  | Example                                  |
| ------------------------- | ------------------------ | ---------------------------------------- |
| `##`                      | Standard code comments   | `## CalculateTotal computes order total` |
| `##;`                     | Code logic explanation   | `##;Small orders don't get discounts`    |
| `##;{Author}@TODO:`       | Pending tasks            | `##;Claude@@TODO: Add email validation`  |
| `##;{Author}@FIXME:`      | Bugs to fix              | `##;Claude@FIXME: Redis timeout issue`   |
| `##;{Author}@NOTE:`       | Developer notes          | `##;Claude@NOTE: Consider concurrency`   |
| `##;{Author}@HACK:`       | Temporary solutions      | `##;Claude@HACK: Remove after API v2`    |
| `##;{Author}@OPTIMIZE:`   | Performance improvements | `##;Claude@OPTIMIZE: Use batch query`    |
| `##;{Author}@DEPRECATED:` | Deprecated code          | `##;Claude@DEPRECATED: Use V2 instead`   |

note: {Author} is optional in the comment prefix, while claude reviews the code, set the {Author} to "Claude"

### Quality Standards

**For Go Code** (if developing Go utilities):

- âœ… Code coverage â‰¥ 80%
- âœ… Function length â‰¤ 50 lines
- âœ… Cyclomatic complexity â‰¤ 10
- âœ… No race conditions (`go test -race`)
- âœ… Linter checks pass (`golangci-lint`)

**For Python Code** (zco_claude_init.py):

- âœ… Use `##;` prefix for logic explanations
- âœ… Type hints where applicable
- âœ… Docstrings for functions
- âœ… Error handling with clear messages

**For Documentation**:

- âœ… Use clear Markdown structure
- âœ… Include usage examples
- âœ… Provide troubleshooting sections
- âœ… Keep tables and lists formatted

---

## Troubleshooting

### Skill Not Recognized

**Problem**: Claude doesn't recognize a custom skill

**Solutions**:

1. âœ… Verify skill name uses `zco-` prefix
2. âœ… Check `SKILL.md` exists (case-sensitive)
3. âœ… Verify YAML front matter is valid
4. âœ… Ensure `name` field matches directory name

### Plan Not Found

**Problem**: `zco-plan {seq}` reports "plan not found"

**Solutions**:

1. âœ… Check plan file exists: `ls docs/plans/plan.{seq}.*.md`
2. âœ… Verify filename format: `plan.{seq}.{extra}.md`
3. âœ… Create plan from template if missing

### Symlink Issues

**Problem**: Symlinks broken after moving directories

**Solutions**:

1. âœ… Re-run `zco_claude_init.py` to recreate links
2. âœ… Check source directories exist in parent project
3. âœ… Verify relative paths are correct

---

## Git Information

**Current Branch**: master
**Main Branch**: master
**Maintainer**: ningrong@minieye.cc

### Recent Commits

```
e8cd900 todo: fix zco_claude_init.py
7005b57 init: add claude settings sample v0.0.1
```

### Modified Files (Current Session)

- `docs/plans/plan.001.update_claude.md` (this plan)
- `setup.sh` (setup automation)
- `zco_claude_init.py` (initialization script)

---

## Technology Stack

| Component           | Technology      | Version | Purpose           |
| ------------------- | --------------- | ------- | ----------------- |
| **Skills**          | Markdown        | -       | Skill definitions |
| **Plans**           | Markdown + YAML | -       | Task management   |
| **Initialization**  | Python          | 3.x     | Project linking   |
| **Automation**      | Bash            | -       | Setup scripts     |
| **Settings**        | JSON            | -       | Configuration     |
| **Version Control** | Git             | -       | Source control    |

---

## Quick Reference

### Most Common Commands

```bash
# Display all available tools
zco-help

# Execute a development plan
zco-plan {seq}

# Create a new plan
zco-plan-new

# Update documentation metadata
zco-docs-update

# List all plans
ls docs/plans/

# Link to another project
./zco_claude_init.py /path/to/project

# Check skill definitions
cat ClaudeSettings/skills/zco-*/SKILL.md
```

### Directory Quick Access

```bash
# View all skills
ls -la ClaudeSettings/skills/

# View all plans
ls -la docs/plans/

# View configuration
cat .claude/settings.local.json

# View symlink targets
ls -la .claude/
```

### Documentation Quick Access

```bash
# Read plan management guide
cat docs/plans/README.md

# Read skill development guide
cat ClaudeSettings/skills/README.md

# Read configuration guide
cat ClaudeSettings/README.md
```

---

## Contact and Support

**Maintainer**: Development Team
**Parent Project Lead**: ningrong@minieye.cc
**Documentation Version**: 1.0.0
**Last Updated**: 2026-01-09

---

**Note to Claude Code**:

- This repository is a configuration hub - treat it as infrastructure
- Always use `zco-` prefix for new skills
- Follow the plan document format strictly
- Respect the symlink structure - don't modify linked content directly
- When in doubt, consult the comprehensive guides in `docs/plans/README.md` and `ClaudeSettings/skills/README.md`
